{# empty Twig template #}
{% extends 'base.html.twig' %}

{% block body %}
    <div id="container">
        <div id="screen">
            <div id="modelItems">
                <ul id="itemContainer">
                    {% for item in items %}
                        <li>
                            <div class="thumbnailContainer" id="{{item.name}}">
                                <img class="thumbnail" src="{{asset(item.picture)}}" alt="{{item.name}}"/>
                            </div>                       
                        </li>
                    {% endfor %}   
                </ul>
            </div>
        </div>
        <div id="controlePanel">
            <button id='button1-hide'>Hide</button>
            <button id="hide">Hide</button>
            <button id="show">Show</button>
            
            <h2>Total Items: {{model.totalItems}}</h2>
            <h2>Good Picks: <span id="goodPicks"></span></h2>
            <h2>Bad Picks: <span id="badPicks"></span></h2>
        </div>
        <div id="modelPanel">
            <img id="model" src="{{asset(model.picture)}}" alt="{{model.name}}"/>
            <h1 id="timer">10</h1>
        </div>
    </div>
    
    
{% endblock %}

{% block javascripts %}
    <script src="{{asset('js/jquery-1.12.2.min.js')}}"></script>
    <script src="{{asset('js/bootstrap.min.js')}}"></script>
    <script>
        var goodPicks = [];
        var badPicks = [];

        $(function(){
            //testing buttons
            $("#hide").click(function(){
                $("#modelPanel").hide();
            });
            $("#show").click(function(){
                $("#modelPanel").show();
            });
            
            $("#button1-hide").click(function(){
                $('#modelItems').toggle();
                $(this).text(function(i,text){
                    return text === "Hide" ? "Show" : "Hide";
                });
            });
            
            //Highlight items
            $(".thumbnailContainer").mouseenter(function(){
                $(this).animate({
                    height: '115%',
                    width: '276px',
                    //borderStyle: 'dashed',
                    //borderColor: '#99ff00',
                    //borderWidth: '5px',
                });
            });
            
            $(".thumbnailContainer").mouseleave(function(){
                $(this).animate({
                    height: '100%',
                    width: '240px',
                    //borderStyle: 'solid',
                    //borderColor: '#99ff00',
                    //borderWidth: '0px',
                });
            });
            
            //Select items and register picks
            $(".thumbnailContainer").click(function(){
                $(this).toggleClass('selected');
                var pattern = /fake/;
                var currentId = $(this).attr('id');
                var goodText = '';
                var badText = '';
                
                if ($(this).hasClass('selected')) {
                    if (pattern.test(currentId)) {
                        badPicks.push(currentId);
                    } else {
                        goodPicks.push(currentId);
                    };                 
                } else {
                    if (pattern.test(currentId)) {
                        badPicks.pop(currentId);
                    } else {
                        goodPicks.pop(currentId);
                    }
                };
                
                for (item in goodPicks) {
                    goodText += goodPicks[item] + ', ';
                };
                for (item in badPicks) {
                    badText += badPicks[item] + ', ';
                };

                $('#goodPicks').text(goodText);
                $('#badPicks').text(badText);
                
                console.log(goodPicks);
                console.log(badPicks);
            });
            
            //evaluate picks
            
            //countdown timer
            setTimeout(function(){
                setInterval($('#timer').fadeOut('slow'));
            }, 3000);
        });        
    </script>
    
    
    
{% endblock %}
    

{% block stylesheets %}
<style>
    body {
        font: 18px/1.5 sans-serif; 
    }
    
    h1, h2 { 
        line-height: 1.2; 
        margin: 0 0 .5em; 
    }
    
    h1 {
        font-size: 36px; 
    }
    
    h2 { 
        font-size: 21px; 
        margin-bottom: 1em; 
    }
    
    p { 
        margin: 0 0 1em 0; 
    }
    
    a { 
        color: #0000F0; 
    }
    
    a:hover {
        text-decoration: none; 
    }
    
    code { 
        background: #F5F5F5; 
        max-width: 100px; 
        padding: 2px 6px; 
        word-wrap: break-word; 
    }
    
    #wrapper { 
        background: #FFF; 
        margin: 1em auto; 
        max-width: 800px; 
        width: 95%; 
    }
    
    #container { 
        padding: 2em; 
    }
    
    #welcome, #status { 
        margin-bottom: 2em; 
    }
    
    #welcome h1 span { 
        display: block; 
        font-size: 75%; 
    }
    
    #icon-status, #icon-book { 
        float: left; 
        height: 64px; 
        margin-right: 1em; 
        margin-top: -4px; 
        width: 64px; 
    }
    
    #icon-book { 
        display: none; 
    }
    
    {# level styles #}
    #container {
        height: 700px; 
        width: 1300px; 
        margin-left: 15px; 
        margin-top: 20px; 
        //background:yellow; 
        position: absolute;
    }
    
    #screen {
        height: 80%; 
        width: 100%; 
        left: 0px; 
        top :0px; 
        //background: blue; 
        overflow: hidden; 
        position: absolute
    }
    
    #modelPanel {
        position: absolute;
        height: 100%;
        width: 80%;
        //background: pink;
        left: 10%;
        top: 0px;
    }
    
    #model {
        position: absolute;
        display: block; 
        left: 10%;
        top: 2.5%;
        height: 95%; 
        width: auto
    }
    
    #timer {
        position: absolute;
        display: block;
        top: 18%;
        right: 10%;
        font-size: 15em;
    }
    
    #modelItems {
        display: block;
        top: 0px; 
        height: 100%; 
        width: 100%; 
        overflow: hidden; 
        position: absolute; 
        //background:pink
    }
    
    #itemContainer li {
        list-style-type:none; 
        display: inline-block; 
        height: 250px; 
        width: 300px; 
        margin: 10px; 
        margin-bottom: 15px; 
        //overflow: hidden; 
        //background:#F5871F;
        position: relative
    }

    .thumbnailContainer {
        height: 100%; width: 240px;                                 
        //margin-left: 30px; 
        //margin-right: 30px; 
        overflow:hidden; 
        position:absolute;
        top: -9999px;
        bottom: -9999px;
        left: -9999px;
        right: -9999px;
        margin: auto;
        border-radius: 2px;
        border-style: dashed;
        border-color: #99ff00;
        border-width: 0px;
        //border: 5px dashed red;
    }
    
    .thumbnail {
        height: 100%; 
        width: auto; 
        position: absolute;
        top: -9999px;
        bottom: -9999px;
        left: -9999px;
        right: -9999px;
        margin: auto
    }
    
    .thumbnail:hover {
        cursor: pointer
    }
    
    #controlePanel {
        height: 20%; 
        width: 100%; 
        left: 0px; 
        bottom: 0px; 
        display: block; 
        background-color: purple; 
        overflow: hidden;
        position: absolute
    }
    
    .selected {
        border: 3px solid black;
    }
    
    

    @media (min-width: 768px) {
        #wrapper { width: 80%; margin: 2em auto; }
        #icon-book { display: inline-block; }
        #status a, #next a { display: block; }

        @-webkit-keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
        @keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
        .sf-toolbar { opacity: 0; -webkit-animation: fade-in 1s .2s forwards; animation: fade-in 1s .2s forwards;}
    }
</style>
{% endblock %}